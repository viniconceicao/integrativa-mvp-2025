<!-- 
 Quero fazer uma página HTML. Para fazer a tela principal, com base no Crisp e no Chatwoot? 
 Só usar IA e falar pra ter um campo de resumo dos últimos chamados do cliente que está com o chat em aberto, aí vamos aprimorando,
    vai ser a tela que vai constar no pdf entregável de amanhã
-->

<!doctype html>
<html lang="pt-BR">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Painel de Chat - Resumo de Chamados (IA)</title>

        <!-- Estilos movidos para styles.css -->
        <link rel="stylesheet" href="styles.css">
</head>
<body>
        <div class="app">
                <!-- Left: Conversations -->
                <div class="col sidebar" role="navigation" aria-label="Conversas">
                        <header>
                                <div style="display:flex;flex-direction:column;">
                                        <span class="brand">Integrativa Chat</span>
                                        <span class="small">Tela principal estilo Crisp / Chatwoot</span>
                                </div>
                        </header>

                        <div class="search" aria-hidden="false">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.6">
                                        <path d="M21 21l-4.35-4.35" stroke="#374151" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                        <circle cx="11" cy="11" r="6" stroke="#374151" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <input id="filter" placeholder="Pesquisar cliente ou assunto..." />
                        </div>

                        <div class="conv-list" id="conversations" aria-live="polite"></div>
                        <footer>Pronto para entregar: campo de resumo automático à direita.</footer>
                </div>

                <!-- Center: Chat -->
                <div class="col center" role="main" aria-label="Chat">
                        <header style="display:flex;justify-content:space-between;align-items:center;">
                                <div>
                                        <div id="activeName" style="font-weight:700">Selecione uma conversa</div>
                                        <div class="small" id="activeStatus">Última atividade: -</div>
                                </div>
                                <div style="display:flex;gap:8px;align-items:center;">
                                        <button id="tagBtn" class="btn" style="background:#10b981;border:0;">Adicionar tag</button>
                                        <button id="closeBtn" class="btn">Fechar</button>
                                </div>
                        </header>

                        <div class="messages" id="messages" aria-live="polite" tabindex="0">
                                <div class="small" style="opacity:.6">Nenhuma conversa selecionada</div>
                        </div>

                        <div class="composer" role="form" aria-label="Compor mensagem">
                                <input id="msgInput" placeholder="Digite uma mensagem..." disabled />
                                <button class="btn" id="sendBtn" disabled>Enviar</button>
                        </div>
                </div>

                <!-- Right: Resumo / Dados do Cliente -->
                <div class="col right" role="complementary" aria-label="Resumo dos últimos chamados">
                        <h3>Resumo dos últimos chamados (IA)</h3>
                        <div class="small" style="margin-bottom:8px;">Este campo apresenta um resumo automático dos últimos chamados do cliente com o chat aberto. Pode ser editado antes de salvar.</div>

                        <div class="meta-line" style="margin-bottom:10px;">
                                <div class="small">Cliente: <strong id="metaClient">-</strong></div>
                                <div class="small">Chamados: <strong id="metaCount">0</strong></div>
                        </div>

                        <textarea id="summary" placeholder="Resumo gerado aparecerá aqui..." aria-label="Resumo automático"></textarea>

                        <div class="control-row">
                                <button id="regen" class="btn" style="background:#7c3aed">Regenerar resumo</button>
                                <button id="saveSummary" class="btn" style="background:#0ea5e9">Salvar</button>
                                <button id="viewLog" class="btn" style="background:#6b7280">Ver histórico</button>
                        </div>

                        <div style="margin-top:12px;">
                                <div class="small">Resumo gerado por um algoritmo local simples. Para gerar resumos via IA real, integrar API externa.</div>
                        </div>
                </div>
        </div>

        <!-- Script movido para app.js -->
        <script src="app.js"></script>
</body>
</html>
